class Floor():
    def __init__(self, number, enemy1, enemy2, enemy3, secret, shop):
        self.number = number
        self.enemies = []
        self.enemies.append(enemy1)
        if enemy2 is not None:
            self.enemies.append(enemy2)

        self.enemy1 = enemy1
        self.enemy2 = enemy2

        self.defeated = 0
        self.secret = secret
        self.shop = shop

    def running(self):
        global ac
        ac = 2
        for item in player_items:
            if item == protection:
                ac += 2
        global floor_number
        global estus_count
        global estus_max
        global mana_pot_count
        global mana_pot_mox
        global player_hp, player_actions_max
        global player_mana, estus_max, player_max_mana
        shop = Shop(self.shop)
        if floor_number % 3 == 0 and floor_number > 1:
            print(Fore.GREEN + "Estus Flasks and Mana Potions restored!" + Style.RESET_ALL)
            estus_count = estus_max
            mana_pot_count = mana_pot_mox
        if floor_number % 2 == 0 and floor_number > 1:
            level_up()
        if floor_number % 5 == 0:
            print("HP and Mana restored!")
            player_hp = player_max_hp
            player_mana = player_max_mana
        if floor_number == 6:
            print("You get another action")
            player_actions_max += 1

            if player_mana < player_max_mana:
                player_mana += 1
                print("You regained 1 mana!")

        while self.defeated < 2:
            print(f"\nYou are on floor {self.number}")
            if self.defeated == 0:
                print("1. Fight the level's enemy")
            if self.secret is not None:
                print("2. Check secret")
            if self.shop > 0:
                print("3. Shop")
            if self.defeated == 1:
                print("4. Go to the next floor")
            print("5. View inventory")
            print("6. View spells")
            inp = input("Choose what to do ")

            if inp == "1" and self.defeated == 0:
                self.fight()
            if inp == "2" and self.secret is not None:
                self.secret.running()
            if inp == "3" and self.shop > 0:
                shop.shopping()
            if inp == "4" and self.defeated == 1:
                floor_number += 1
                if floor_number % 5 == 0:
                    upgrade_estus()
                return
            if inp == "5":
                show_inv()
            if inp == "6":
                if spell1 is not None:
                    print(f"{spell1.info()}")
                if spell2 is not None:
                    print(spell2.info())
                if spell3 is not None:
                    spell3.info()
            if inp == "7":
                swap_weapon()

floors = []

floors.append(Floor(1, None, None, None, None, 0))

# giant rat floor 1 btw
